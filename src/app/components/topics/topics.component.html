<body>

    <div class="container my-2">
<div class="page-inner no-page-title">
    <!-- start page main wrapper -->
    <div id="main-wrapper">
        <div class="row">
            <div class="col-lg-5 col-xl-3">
                <div class="card card-white grid-margin">
                    <div class="card-heading clearfix">
                        <h4 class="card-title"><strong>{{subject_name}}</strong></h4>
                    </div>
                    <div class="card-body user-profile-card mb-3">
                        <img src="../../../assets/photo-1497633762265-9d179a990aa6.avif" class="user-profile-image rounded-circle" alt="" />
                        
                    </div>
                    <hr />
                    <div class="card-heading clearfix mt-3">
                        <h4 class="card-title"><strong>Latest Topics</strong></h4>
                    </div>
                    <div class="card-body mb-3">
                      <h5>{{latest_topic.topic}}</h5>
                    </div>
                    <hr />
                    <div class="card-heading clearfix mt-3">
                        <h4 class="card-title"><strong>About {{subject_name}}</strong></h4>
                    </div>
                    <div class="card-body mb-3">
                        <p class="mb-0">{{description}}</p>
                    </div>
                    <hr />
                    <div class="card-heading clearfix mt-3">
                        <h4 class="card-title"><strong>Subject Information</strong></h4>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table table-borderless mb-0 text-muted">
                                <tbody>
                                    <tr>
                                        <th scope="row"><strong>Assigned Teachers:</strong></th>
                                        <td>{{resultTeacher}}</td>
                                    </tr>
                                    <tr>
                                        <th scope="row"><strong>Assigned Learners:</strong></th>
                                        <td>{{resultLearner}}</td>
                                    </tr>
                                    <tr>
                                        <th scope="row"><strong>Posted Topics:</strong></th>
                                        <td><a>{{topics.length}}</a></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-7 col-xl-6">
                
                <div class="profile-timeline">
                    <ul class="list-unstyled">
                        <li class="timeline-item">
                            <div class="card card-white grid-margin">
                                <div class="card-body">
                                    <div class="timeline-item-header">
                                        <h3><strong>Topics</strong></h3>
                                    </div>
                                    <div class="timeline-item-post"  *ngFor="let data of topics; index as i">
                                      <div class="d-flex">
                                        <span class="border border-4 w-100">
                                          <ul class="list-group list-group-flush">
                                            <li class="list-group-item" 
                                            [class.active]="i == currentIndex"
                                            (click)="setActiveTopic(data, i)" routerLink="/group-discussion">{{data.topic}}</li>
                                          </ul></span>
                                      </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="card card-white grid-margin">
                  <div class="card-body">
                      <div class="post">
                        <h4><strong>Start A New Topic</strong></h4>
                        <form [formGroup]="myForm" (ngSubmit)="submitTopic()" novalidate>
                          <textarea class="form-control"formControlName="topic" placeholder="Enter new topic here"></textarea>
                        <button class="btn btn-outline-success my-2">Send</button>
                        </form>
                      </div>
                  </div>
              </div>
            </div>
            <div class="col-lg-12 col-xl-3" >
                
                <div class="card card-white grid-margin" *ngIf="usertype !== 'teacher'">
                    <div class="card-heading clearfix">
                        <h4 class="card-title"><strong>Assigned Teachers</strong></h4>
                    </div>
                    <div class="card-body">
                      
                      <div class="timeline-item-post"  *ngFor="let data of teachers; index as i">
                        <div class="d-flex my-2" style="color: blue">
                          <span class="border border-4 w-100 justify-content-between">
                            <ul class="list-group list-group-flush">
                              <li class="list-group-item" 
                            [class.active]="i == currentIndex"
                            (click)="setActiveTeacher(data, i)" >{{data.full_name}}</li>
                            </ul></span>
                        </div>
                      </div>
                    </div>
                    
                </div>
                <div class="card card-white grid-margin">
                    <div class="card-heading clearfix">
                        <h4 class="card-title"><strong>Remove Subject</strong></h4>
                    </div>
                    <div class="card-body">
                      <button class="btn btn-danger" (click)="removeMySubject()">Remove This Subject</button>
                    </div>
                    
                </div>
            </div>
        </div>
        <!-- Row -->
    </div>
    <!-- end page main wrapper -->
</div>
</div>
</body>
